import e from"primevue/button";import i from"primevue/ripple";import{DomHandler as t}from"primevue/utils";import{resolveComponent as n,resolveDirective as r,openBlock as s,createBlock as l,Fragment as o,createVNode as a,renderSlot as c,renderList as d,withDirectives as p,createCommentVNode as m,resolveDynamicComponent as u}from"vue";var b={name:"SpeedDial",emits:["click","show","hide"],props:{model:null,visible:{type:Boolean,default:!1},direction:{type:String,default:"up"},transitionDelay:{type:Number,default:30},type:{type:String,default:"linear"},radius:{type:Number,default:0},mask:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideOnClickOutside:{type:Boolean,default:!0},buttonClass:null,maskStyle:null,maskClass:null,showIcon:{type:String,default:"pi pi-plus"},hideIcon:null,rotateAnimation:{type:Boolean,default:!0},tooltipOptions:null,style:null,class:null},documentClickListener:null,container:null,list:null,data(){return{d_visible:this.visible,isItemClicked:!1}},watch:{visible(e){this.d_visible=e}},mounted(){if("linear"!==this.type){const e=t.findSingle(this.container,".p-speeddial-button"),i=t.findSingle(this.list,".p-speeddial-item");if(e&&i){const t=Math.abs(e.offsetWidth-i.offsetWidth),n=Math.abs(e.offsetHeight-i.offsetHeight);this.list.style.setProperty("--item-diff-x",t/2+"px"),this.list.style.setProperty("--item-diff-y",n/2+"px")}}this.hideOnClickOutside&&this.bindDocumentClickListener()},beforeMount(){this.unbindDocumentClickListener()},methods:{onItemClick(e,i){i.command&&i.command({originalEvent:e,item:i}),this.hide(),this.isItemClicked=!0,e.preventDefault()},onClick(e){this.d_visible?this.hide():this.show(),this.isItemClicked=!0,this.$emit("click",e)},show(){this.d_visible=!0,this.$emit("show")},hide(){this.d_visible=!1,this.$emit("hide")},calculateTransitionDelay(e){const i=this.model.length;return(this.d_visible?e:i-e-1)*this.transitionDelay},calculatePointStyle(e){const i=this.type;if("linear"!==i){const t=this.model.length,n=this.radius||20*t;if("circle"===i){const i=2*Math.PI/t;return{left:`calc(${n*Math.cos(i*e)}px + var(--item-diff-x, 0px))`,top:`calc(${n*Math.sin(i*e)}px + var(--item-diff-y, 0px))`}}if("semi-circle"===i){const i=this.direction,r=Math.PI/(t-1),s=`calc(${n*Math.cos(r*e)}px + var(--item-diff-x, 0px))`,l=`calc(${n*Math.sin(r*e)}px + var(--item-diff-y, 0px))`;if("up"===i)return{left:s,bottom:l};if("down"===i)return{left:s,top:l};if("left"===i)return{right:l,top:s};if("right"===i)return{left:l,top:s}}else if("quarter-circle"===i){const i=this.direction,r=Math.PI/(2*(t-1)),s=`calc(${n*Math.cos(r*e)}px + var(--item-diff-x, 0px))`,l=`calc(${n*Math.sin(r*e)}px + var(--item-diff-y, 0px))`;if("up-left"===i)return{right:s,bottom:l};if("up-right"===i)return{left:s,bottom:l};if("down-left"===i)return{right:l,top:s};if("down-right"===i)return{left:l,top:s}}}return{}},getItemStyle(e){return{transitionDelay:`${this.calculateTransitionDelay(e)}ms`,...this.calculatePointStyle(e)}},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.d_visible&&this.isOutsideClicked(e)&&this.hide(),this.isItemClicked=!1},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},isOutsideClicked(e){return this.container&&!(this.container.isSameNode(e.target)||this.container.contains(e.target)||this.isItemClicked)},containerRef(e){this.container=e},listRef(e){this.list=e}},computed:{containerClass(){return[`p-speeddial p-component p-speeddial-${this.type}`,{[`p-speeddial-direction-${this.direction}`]:"circle"!==this.type,"p-speeddial-opened":this.d_visible,"p-disabled":this.disabled},this.class]},buttonClassName(){return["p-speeddial-button p-button-rounded",{"p-speeddial-rotate":this.rotateAnimation&&!this.hideIcon},this.buttonClass]},iconClassName(){return this.d_visible&&this.hideIcon?this.hideIcon:this.showIcon},maskClassName(){return["p-speeddial-mask",{"p-speeddial-mask-visible":this.d_visible},this.maskClass]}},components:{SDButton:e},directives:{ripple:i}};!function(e,i){void 0===i&&(i={});var t=i.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("\n.p-speeddial {\r\n    position: absolute;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    z-index: 1;\n}\n.p-speeddial-list {\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    -webkit-transition: top 0s linear 0.2s;\r\n    transition: top 0s linear 0.2s;\r\n    pointer-events: none;\n}\n.p-speeddial-item {\r\n    -webkit-transform: scale(0);\r\n            transform: scale(0);\r\n    opacity: 0;\r\n    -webkit-transition: opacity 0.8s, -webkit-transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    transition: opacity 0.8s, -webkit-transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, opacity 0.8s;\r\n    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, opacity 0.8s, -webkit-transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    will-change: transform;\n}\n.p-speeddial-action {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    overflow: hidden;\n}\n.p-speeddial-circle .p-speeddial-item,\r\n.p-speeddial-semi-circle .p-speeddial-item,\r\n.p-speeddial-quarter-circle .p-speeddial-item {\r\n    position: absolute;\n}\n.p-speeddial-rotate {\r\n    -webkit-transition: -webkit-transform 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    transition: -webkit-transform 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, -webkit-transform 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    will-change: transform;\n}\n.p-speeddial-mask {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    -webkit-transition: opacity 250ms cubic-bezier(0.25, 0.8, 0.25, 1);\r\n    transition: opacity 250ms cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.p-speeddial-mask-visible {\r\n    pointer-events: none;\r\n    opacity: 1;\r\n    -webkit-transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);\r\n    transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.p-speeddial-opened .p-speeddial-list {\r\n    pointer-events: auto;\n}\n.p-speeddial-opened .p-speeddial-item {\r\n    -webkit-transform: scale(1);\r\n            transform: scale(1);\r\n    opacity: 1;\n}\n.p-speeddial-opened .p-speeddial-rotate {\r\n    -webkit-transform: rotate(45deg);\r\n            transform: rotate(45deg);\n}\r\n\r\n/* Direction */\n.p-speeddial-direction-up {\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: reverse;\r\n        -ms-flex-direction: column-reverse;\r\n            flex-direction: column-reverse;\n}\n.p-speeddial-direction-up .p-speeddial-list {\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: reverse;\r\n        -ms-flex-direction: column-reverse;\r\n            flex-direction: column-reverse;\n}\n.p-speeddial-direction-down {\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: column;\r\n            flex-direction: column;\n}\n.p-speeddial-direction-down .p-speeddial-list {\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: column;\r\n            flex-direction: column;\n}\n.p-speeddial-direction-left {\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: reverse;\r\n        -ms-flex-direction: row-reverse;\r\n            flex-direction: row-reverse;\n}\n.p-speeddial-direction-left .p-speeddial-list {\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: reverse;\r\n        -ms-flex-direction: row-reverse;\r\n            flex-direction: row-reverse;\n}\n.p-speeddial-direction-right {\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: row;\r\n            flex-direction: row;\n}\n.p-speeddial-direction-right .p-speeddial-list {\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: row;\r\n            flex-direction: row;\n}\r\n"),b.render=function(e,i,t,b,f,h){const k=n("SDButton"),x=r("tooltip"),y=r("ripple");return s(),l(o,null,[a("div",{ref:h.containerRef,class:h.containerClass,style:t.style},[c(e.$slots,"button",{toggle:h.onClick},(()=>[a(k,{type:"button",class:h.buttonClassName,icon:h.iconClassName,onClick:i[1]||(i[1]=e=>h.onClick(e)),disabled:t.disabled},null,8,["class","icon","disabled"])])),a("ul",{ref:h.listRef,class:"p-speeddial-list",role:"menu"},[(s(!0),l(o,null,d(t.model,((i,n)=>(s(),l("li",{key:n,class:"p-speeddial-item",style:h.getItemStyle(n),role:"none"},[e.$slots.item?(s(),l(u(e.$slots.item),{key:1,item:i},null,8,["item"])):p((s(),l("a",{key:0,href:i.url||"#",role:"menuitem",class:["p-speeddial-action",{"p-disabled":i.disabled}],target:i.target,onClick:e=>h.onItemClick(e,i)},[i.icon?(s(),l("span",{key:0,class:["p-speeddial-action-icon",i.icon]},null,2)):m("v-if",!0)],10,["href","target","onClick"])),[[x,{value:i.label,disabled:!t.tooltipOptions},t.tooltipOptions],[y]])],4)))),128))],512)],6),t.mask?(s(),l("div",{key:0,class:h.maskClassName,style:t.maskStyle},null,6)):m("v-if",!0)],64)},b.__file="src/components/speeddial/SpeedDial.vue";export{b as default};
