"use strict";var e=require("primevue/utils"),t=require("primevue/ripple"),n=require("vue");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","maximize","unmaximize","dragend"],props:{header:null,footer:null,visible:Boolean,modal:Boolean,contentStyle:null,contentClass:String,rtl:Boolean,maximizable:Boolean,dismissableMask:Boolean,closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},ariaCloseLabel:{type:String,default:"close"},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:String,default:"body"}},data(){return{containerVisible:this.visible,maximized:!1}},documentKeydownListener:null,container:null,mask:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask=null,this.container&&this.autoZIndex&&e.ZIndexUtils.clear(this.container),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(t){this.autoZIndex&&e.ZIndexUtils.set("modal",t,this.baseZIndex+this.$primevue.config.zIndex.modal),t.setAttribute(this.attributeSelector,"")},onEnter(){this.mask.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1),this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners()},onBeforeLeave(){this.modal&&e.DomHandler.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&e.ZIndexUtils.clear(t),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners()},onMaskClick(e){this.dismissableMask&&this.closable&&this.modal&&this.mask===e.target&&this.close()},focus(){let e=this.container.querySelector("[autofocus]");e&&e.focus()},maximize(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?e.DomHandler.addClass(document.body,"p-overflow-hidden"):e.DomHandler.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&e.DomHandler.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&e.DomHandler.removeClass(document.body,"p-overflow-hidden")},onKeyDown(t){if(9===t.which){t.preventDefault();let n=e.DomHandler.getFocusableElements(this.container);if(n&&n.length>0)if(document.activeElement){let e=n.indexOf(document.activeElement);t.shiftKey?-1==e||0===e?n[n.length-1].focus():n[e-1].focus():-1==e||e===n.length-1?n[0].focus():n[e+1].focus()}else n[0].focus()}else 27===t.which&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const e=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find((e=>e===this.position));return e?`p-dialog-${e}`:""},containerRef(e){this.container=e},maskRef(e){this.mask=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`\n                        @media screen and (max-width: ${t}) {\n                            .p-dialog[${this.attributeSelector}] {\n                                width: ${this.breakpoints[t]} !important;\n                            }\n                        }\n                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(t){e.DomHandler.hasClass(t.target,"p-dialog-header-icon")||e.DomHandler.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",e.DomHandler.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=t=>{if(this.dragging){let n=e.DomHandler.getOuterWidth(this.container),i=e.DomHandler.getOuterHeight(this.container),o=t.pageX-this.lastPageX,a=t.pageY-this.lastPageY,r=this.container.getBoundingClientRect(),l=r.left+o,s=r.top+a,d=e.DomHandler.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+n<d.width&&(this.lastPageX=t.pageX,this.container.style.left=l+"px"),s>=this.minY&&s+i<d.height&&(this.lastPageY=t.pageY,this.container.style.top=s+"px")):(this.lastPageX=t.pageX,this.container.style.left=l+"px",this.lastPageY=t.pageY,this.container.style.top=s+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=t=>{this.dragging&&(this.dragging=!1,e.DomHandler.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":"filled"===this.$primevue.config.inputStyle,"p-ripple-disabled":!1===this.$primevue.config.ripple}]},maximizeIconClass(){return["p-dialog-header-maximize-icon pi",{"pi-window-maximize":!this.maximized,"pi-window-minimize":this.maximized}]},ariaId:()=>e.UniqueComponentId(),ariaLabelledById(){return null!=this.header?this.ariaId+"_header":null},attributeSelector:()=>e.UniqueComponentId(),contentStyleClass(){return["p-dialog-content",this.contentClass]},appendDisabled(){return"self"===this.appendTo},appendTarget(){return this.appendDisabled?null:this.appendTo}},directives:{ripple:i(t).default}};const a={class:"p-dialog-header-icons"},r=n.createVNode("span",{class:"p-dialog-header-close-icon pi pi-times"},null,-1),l={key:1,class:"p-dialog-footer"};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.p-dialog-mask {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    pointer-events: none;\n}\n.p-dialog-mask.p-component-overlay {\r\n    pointer-events: auto;\n}\n.p-dialog {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: column;\r\n            flex-direction: column;\r\n    pointer-events: auto;\r\n    max-height: 90%;\r\n    -webkit-transform: scale(1);\r\n            transform: scale(1);\n}\n.p-dialog-content {\r\n    overflow-y: auto;\n}\n.p-dialog-header {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    -ms-flex-negative: 0;\r\n        flex-shrink: 0;\n}\n.p-dialog-footer {\r\n    -ms-flex-negative: 0;\r\n        flex-shrink: 0;\n}\n.p-dialog .p-dialog-header-icons {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\n}\n.p-dialog .p-dialog-header-icon {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-pack: center;\r\n        -ms-flex-pack: center;\r\n            justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\n}\r\n\r\n/* Fluid */\n.p-fluid .p-dialog-footer .p-button {\r\n    width: auto;\n}\r\n\r\n/* Animation */\r\n/* Center */\n.p-dialog-enter-active {\r\n    -webkit-transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\r\n    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n}\n.p-dialog-leave-active {\r\n    -webkit-transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\r\n    transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n.p-dialog-enter-from,\r\n.p-dialog-leave-to {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0.7);\r\n            transform: scale(0.7);\n}\r\n\r\n/* Top, Bottom, Left, Right, Top* and Bottom* */\n.p-dialog-top .p-dialog,\r\n.p-dialog-bottom .p-dialog,\r\n.p-dialog-left .p-dialog,\r\n.p-dialog-right .p-dialog,\r\n.p-dialog-topleft .p-dialog,\r\n.p-dialog-topright .p-dialog,\r\n.p-dialog-bottomleft .p-dialog,\r\n.p-dialog-bottomright .p-dialog {\r\n    margin: .75rem;\r\n    -webkit-transform: translate3d(0px, 0px, 0px);\r\n            transform: translate3d(0px, 0px, 0px);\n}\n.p-dialog-top .p-dialog-enter-active,\r\n.p-dialog-top .p-dialog-leave-active,\r\n.p-dialog-bottom .p-dialog-enter-active,\r\n.p-dialog-bottom .p-dialog-leave-active,\r\n.p-dialog-left .p-dialog-enter-active,\r\n.p-dialog-left .p-dialog-leave-active,\r\n.p-dialog-right .p-dialog-enter-active,\r\n.p-dialog-right .p-dialog-leave-active,\r\n.p-dialog-topleft .p-dialog-enter-active,\r\n.p-dialog-topleft .p-dialog-leave-active,\r\n.p-dialog-topright .p-dialog-enter-active,\r\n.p-dialog-topright .p-dialog-leave-active,\r\n.p-dialog-bottomleft .p-dialog-enter-active,\r\n.p-dialog-bottomleft .p-dialog-leave-active,\r\n.p-dialog-bottomright .p-dialog-enter-active,\r\n.p-dialog-bottomright .p-dialog-leave-active {\r\n    -webkit-transition: all .3s ease-out;\r\n    transition: all .3s ease-out;\n}\n.p-dialog-top .p-dialog-enter-from,\r\n.p-dialog-top .p-dialog-leave-to {\r\n    -webkit-transform: translate3d(0px, -100%, 0px);\r\n            transform: translate3d(0px, -100%, 0px);\n}\n.p-dialog-bottom .p-dialog-enter-from,\r\n.p-dialog-bottom .p-dialog-leave-to {\r\n    -webkit-transform: translate3d(0px, 100%, 0px);\r\n            transform: translate3d(0px, 100%, 0px);\n}\n.p-dialog-left .p-dialog-enter-from,\r\n.p-dialog-left .p-dialog-leave-to,\r\n.p-dialog-topleft .p-dialog-enter-from,\r\n.p-dialog-topleft .p-dialog-leave-to,\r\n.p-dialog-bottomleft .p-dialog-enter-from,\r\n.p-dialog-bottomleft .p-dialog-leave-to {\r\n    -webkit-transform: translate3d(-100%, 0px, 0px);\r\n            transform: translate3d(-100%, 0px, 0px);\n}\n.p-dialog-right .p-dialog-enter-from,\r\n.p-dialog-right .p-dialog-leave-to,\r\n.p-dialog-topright .p-dialog-enter-from,\r\n.p-dialog-topright .p-dialog-leave-to,\r\n.p-dialog-bottomright .p-dialog-enter-from,\r\n.p-dialog-bottomright .p-dialog-leave-to {\r\n    -webkit-transform: translate3d(100%, 0px, 0px);\r\n            transform: translate3d(100%, 0px, 0px);\n}\r\n\r\n/* Maximize */\n.p-dialog-maximized {\r\n    -webkit-transition: none;\r\n    transition: none;\r\n    -webkit-transform: none;\r\n            transform: none;\r\n    width: 100vw !important;\r\n    height: 100vh !important;\r\n    top: 0px !important;\r\n    left: 0px !important;\r\n    max-height: 100%;\r\n    height: 100%;\n}\n.p-dialog-maximized .p-dialog-content {\r\n    -webkit-box-flex: 1;\r\n        -ms-flex-positive: 1;\r\n            flex-grow: 1;\n}\r\n\r\n/* Position */\n.p-dialog-left {\r\n    -webkit-box-pack: start;\r\n        -ms-flex-pack: start;\r\n            justify-content: flex-start;\n}\n.p-dialog-right {\r\n    -webkit-box-pack: end;\r\n        -ms-flex-pack: end;\r\n            justify-content: flex-end;\n}\n.p-dialog-top {\r\n    -webkit-box-align: start;\r\n        -ms-flex-align: start;\r\n            align-items: flex-start;\n}\n.p-dialog-topleft {\r\n    -webkit-box-pack: start;\r\n        -ms-flex-pack: start;\r\n            justify-content: flex-start;\r\n    -webkit-box-align: start;\r\n        -ms-flex-align: start;\r\n            align-items: flex-start;\n}\n.p-dialog-topright {\r\n    -webkit-box-pack: end;\r\n        -ms-flex-pack: end;\r\n            justify-content: flex-end;\r\n    -webkit-box-align: start;\r\n        -ms-flex-align: start;\r\n            align-items: flex-start;\n}\n.p-dialog-bottom {\r\n    -webkit-box-align: end;\r\n        -ms-flex-align: end;\r\n            align-items: flex-end;\n}\n.p-dialog-bottomleft {\r\n    -webkit-box-pack: start;\r\n        -ms-flex-pack: start;\r\n            justify-content: flex-start;\r\n    -webkit-box-align: end;\r\n        -ms-flex-align: end;\r\n            align-items: flex-end;\n}\n.p-dialog-bottomright {\r\n    -webkit-box-pack: end;\r\n        -ms-flex-pack: end;\r\n            justify-content: flex-end;\r\n    -webkit-box-align: end;\r\n        -ms-flex-align: end;\r\n            align-items: flex-end;\n}\n.p-confirm-dialog .p-dialog-content {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\n}\r\n"),o.render=function(e,t,i,o,s,d){const p=n.resolveDirective("ripple");return n.openBlock(),n.createBlock(n.Teleport,{to:d.appendTarget,disabled:d.appendDisabled},[s.containerVisible?(n.openBlock(),n.createBlock("div",{key:0,ref:d.maskRef,class:d.maskClass,onClick:t[4]||(t[4]=(...e)=>d.onMaskClick&&d.onMaskClick(...e))},[n.createVNode(n.Transition,{name:"p-dialog",onBeforeEnter:d.onBeforeEnter,onEnter:d.onEnter,onBeforeLeave:d.onBeforeLeave,onLeave:d.onLeave,onAfterLeave:d.onAfterLeave,appear:""},{default:n.withCtx((()=>[i.visible?(n.openBlock(),n.createBlock("div",n.mergeProps({key:0,ref:d.containerRef,class:d.dialogClass},e.$attrs,{role:"dialog","aria-labelledby":d.ariaLabelledById,"aria-modal":i.modal}),[i.showHeader?(n.openBlock(),n.createBlock("div",{key:0,class:"p-dialog-header",onMousedown:t[3]||(t[3]=(...e)=>d.initDrag&&d.initDrag(...e))},[n.renderSlot(e.$slots,"header",{},(()=>[i.header?(n.openBlock(),n.createBlock("span",{key:0,id:d.ariaLabelledById,class:"p-dialog-title"},n.toDisplayString(i.header),9,["id"])):n.createCommentVNode("v-if",!0)])),n.createVNode("div",a,[i.maximizable?n.withDirectives((n.openBlock(),n.createBlock("button",{key:0,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:t[1]||(t[1]=(...e)=>d.maximize&&d.maximize(...e)),type:"button",tabindex:"-1"},[n.createVNode("span",{class:d.maximizeIconClass},null,2)],512)),[[p]]):n.createCommentVNode("v-if",!0),i.closable?n.withDirectives((n.openBlock(),n.createBlock("button",{key:1,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:t[2]||(t[2]=(...e)=>d.close&&d.close(...e)),"aria-label":i.ariaCloseLabel,type:"button"},[r],8,["aria-label"])),[[p]]):n.createCommentVNode("v-if",!0)])],32)):n.createCommentVNode("v-if",!0),n.createVNode("div",{class:d.contentStyleClass,style:i.contentStyle},[n.renderSlot(e.$slots,"default")],6),i.footer||e.$slots.footer?(n.openBlock(),n.createBlock("div",l,[n.renderSlot(e.$slots,"footer",{},(()=>[n.createTextVNode(n.toDisplayString(i.footer),1)]))])):n.createCommentVNode("v-if",!0)],16,["aria-labelledby","aria-modal"])):n.createCommentVNode("v-if",!0)])),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):n.createCommentVNode("v-if",!0)],8,["to","disabled"])},o.__file="src/components/dialog/Dialog.vue",module.exports=o;
